@model PPPK_Project.Models.Vehicle

@{
    ViewBag.Title = "Vehicle";
}

<h2>Vehicle</h2>


<div class="center">
    <h2>Vehicle ID: @Model.VehicleID  </h2>
    <form action="/api/v1/PPPK_Project.Models.Driver/@Model.VehicleID" method="get" name="f">
        <ul>
            <li>Type: <input class="inp" readonly value="@Model.VehicleType" name="VehicleType"></li>
            <li>Brand: <input class="inp" readonly value="@Model.VehicleBrand" name="VehicleBrand"></li>
            <li>Production year: <input class="inp" readonly value="@Model.ProductionYear" name="ProductionYear"></li>
            <li>Starting kilometers: <input class="inp" readonly value="@Model.StartingKilometers" name="StartingKilometers"></li>
            <li>Current kilometers: <input class="inp" readonly value="@Model.CurrentKilometers" name="CurrentKilometers"></li>
        </ul>
        <input hidden="hidden" id="check" readonly />
        <div id="bt" onclick="edit()" class="btn btn-primary">Edit</div>
        <div id="bt_send" onclick="document.forms['f'].submit();" class="btn btn-success" hidden>Save</div>
    </form>
</div>



<div>
    @Html.ActionLink("Back to List", "AllVehicles")
</div>

<script>
    function edit() {
        if (document.getElementById('check').readOnly) {
            document.getElementById('check').readOnly = false;
            document.getElementById('bt_send').hidden = false;
            Array.from(document.getElementsByClassName('inp'))
                .forEach(function (e) {
                    e.readOnly = false
                    e.style.border = "1px dotted green"
                }
                );
        } else {
            document.getElementById('check').readOnly = true;
            document.getElementById('bt_send').hidden = true;
            Array.from(document.getElementsByClassName('inp'))
                .forEach(function (e) {
                    e.readOnly = true
                    e.style.border = "1px solid red"
                }
                );
        }
    };
</script>